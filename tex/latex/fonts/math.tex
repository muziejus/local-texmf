\ifundef{\myfont}{
  \newcommand{\myfont}{Latin Modern Roman}
}

\ifundef{\mymathfont}{
  \newcommand{\mymathfont}{\myfont}
}

\ifundef{\mymonofont}{
  \newcommand{\mymonofont}{Ubuntu Mono}
}

\usepackage[math-style=upright]{unicode-math}

\usepackage{fontspec}
  \IfFontExistsTF{\myfont}{%
    \setmainfont{\myfont}[%
      Mapping=tex-text ,
    ]
  }{}
%   \IfFontExistsTF{\mymathfont}{%
    \setmathrm{\myfont}
    \setmathfont{Euler Math}
%     \setmathfont(Digits,Latin,Greek){\mymathfont}
%   }{}
  \IfFontExistsTF{\mymonofont}{%
    \setmonofont[Scale=0.8]{\mymonofont}
  }{}
